# โ ููุฒุฉ ุชูุฑูุฑ ุญุถูุฑ ุงููุนููุงุช ุงูุดูุฑู/ุงูุณููู

## ๐ฏ ุงููุตู

ุชู ุฅุถุงูุฉ ููุฒุฉ ูุงููุฉ ูุนุฑุถ ูุชุญููู ุชูุงุฑูุฑ ุญุถูุฑ ูุงูุตุฑุงู ุงููุนููุงุช ุงูุดูุฑูุฉ ุฃู ุงูุณูููุฉ ุจุตูุบุฉ PDF ูู ุตูุญุฉ ุงููุฏูุฑุฉ.

---

## ๐ ูุง ุชู ุฅุถุงูุชู

### 1๏ธโฃ ุจุทุงูุฉ ุฌุฏูุฏุฉ ูู ุตูุญุฉ ุงูุชูุงุฑูุฑ

**ุงููููุน**: `/admin/nursery/reports`

ุชูุช ุฅุถุงูุฉ ุจุทุงูุฉ ุฌุฏูุฏุฉ ุจุงูููู ุงููุฑุฏู:
- **ุงูุนููุงู**: "ุชูุฑูุฑ ุญุถูุฑ ุงููุนููุงุช ุงูุดูุฑู/ุงูุณููู"
- **ุงููุตู**: "ุนุฑุถ ูุชุญููู ุชูุฑูุฑ ุญุถูุฑ ุงููุนููุงุช ุดูุฑู ุฃู ุณููู PDF"
- **ุงูุฑุงุจุท**: `/admin/nursery/teacher-attendance-report`
- **ุงูุฃููููุฉ**: `fa-calendar-alt`

---

### 2๏ธโฃ ุตูุญุฉ ุนุฑุถ ุงูุชูุฑูุฑ

**ุงููุณุงุฑ**: `/admin/nursery/teacher-attendance-report`

#### **ุงููููุฒุงุช:**

**ุฃุฏูุงุช ุงูุชุญูู:**
- ุงุฎุชูุงุฑ ุงูุณูุฉ (ุงูุณููุงุช ุงูู 5 ุงูุฃุฎูุฑุฉ)
- ุงุฎุชูุงุฑ ุงูุดูุฑ (ุฃู "ุงูุณูุฉ ูุงููุฉ")
- ุฒุฑ "ุนุฑุถ ุงูุชูุฑูุฑ" - ูุชุญููู ุงูุจูุงูุงุช
- ุฒุฑ "ุชุญููู PDF" - ูุชุตุฏูุฑ ุงูุชูุฑูุฑ ุจุตูุบุฉ PDF

**ุนุฑุถ ุงูุจูุงูุงุช:**
| ุงูุนููุฏ | ุงููุตู |
|--------|--------|
| # | ุงูุฑูู ุงูุชุณูุณูู |
| ุงุณู ุงููุนููุฉ | ุงูุงุณู ุงููุงูู |
| ุฑูู ุงููุงุชู | ุฑูู ุงูุชูุงุตู |
| ุนุฏุฏ ุฃูุงู ุงูุนูู | ุฅุฌูุงูู ุฃูุงู ุงูุนูู ูู ุงููุชุฑุฉ (ุงุณุชุซูุงุก ุงูุฌูุนุฉ ูุงูุณุจุช) |
| ุนุฏุฏ ุงูุญุถูุฑ | ุนุฏุฏ ุงูุฃูุงู ุงูุชู ุณุฌูุช ูููุง ุญุถูุฑ |
| ุนุฏุฏ ุงูุบูุงุจ | ุฃูุงู ุงูุนูู - ุฃูุงู ุงูุญุถูุฑ |
| ูุณุจุฉ ุงูุญุถูุฑ | (ุงูุญุถูุฑ รท ุฃูุงู ุงูุนูู) ร 100 |
| ูุชูุณุท ููุช ุงูุญุถูุฑ | ูุชูุณุท ููุช ุจุตูุฉ ุงูุญุถูุฑ |
| ูุชูุณุท ููุช ุงูุงูุตุฑุงู | ูุชูุณุท ููุช ุจุตูุฉ ุงูุงูุตุฑุงู |

**ุฃููุงู ูุณุจุฉ ุงูุญุถูุฑ:**
- ๐ข **ุฃุฎุถุฑ**: โฅ 90%
- ๐ก **ุฃุตูุฑ**: 75% - 89.9%
- ๐ด **ุฃุญูุฑ**: < 75%

---

### 3๏ธโฃ API Endpoint

**ุงููุณุงุฑ**: `/api/teacher-attendance-report`

**Method**: `GET`

**Parameters**:
- `year` (ูุทููุจ): ุงูุณูุฉ (ูุซุงู: 2025)
- `month` (ุงุฎุชูุงุฑู): ุงูุดูุฑ (1-12) ุฃู "all" ููุณูุฉ ูุงููุฉ

**ูุซุงู**:
```
GET /api/teacher-attendance-report?year=2025&month=12
GET /api/teacher-attendance-report?year=2025&month=all
```

**Response**:
```json
{
  "teachers": [
    {
      "id": 1,
      "name": "ููุฑุฉ ูุญูุฏ",
      "phone": "55771133",
      "workDays": 22,
      "attendanceDays": 20,
      "absentDays": 2,
      "avgCheckIn": "07:45",
      "avgCheckOut": "14:30"
    }
  ],
  "period": {
    "year": 2025,
    "month": 12,
    "startDate": "2025-12-01",
    "endDate": "2025-12-31",
    "workDays": 22
  }
}
```

---

### 4๏ธโฃ ุชุญููู PDF

**ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ:**
- `jsPDF` - ุฅูุดุงุก ูููุงุช PDF
- `jsPDF-AutoTable` - ุฅูุดุงุก ุฌุฏุงูู ุงุญุชุฑุงููุฉ

**ุงููููุฒุงุช:**
- ุชุฎุทูุท ุฃููู (Landscape)
- ุฌุฏูู ููุธู ูุน ุฑุฃุณูุฉ ููููุฉ (ูุฑุฏู)
- ุนููุงู ูุงุถุญ ูุชุถูู ุงุณู ุงูุญุถุงูุฉ ูุงููุชุฑุฉ
- ุชุตุฏูุฑ ุชููุงุฆู ุจุชุณููุฉ ูุงุถุญุฉ:
  - `teacher-attendance-2025.pdf` (ููุณูุฉ)
  - `teacher-attendance-2025-12.pdf` (ููุดูุฑ)

---

## ๐ ุญุณุงุจ ุฃูุงู ุงูุนูู

**ุงููุงุนุฏุฉ**: ุงุณุชุซูุงุก ุงูุฌูุนุฉ (ููู 5) ูุงูุณุจุช (ููู 6)

**ุงูููุฏ**:
```typescript
function calculateWorkDays(startDate: string, endDate: string): number {
  const start = new Date(startDate)
  const end = new Date(endDate)
  let workDays = 0
  
  const current = new Date(start)
  while (current <= end) {
    const dayOfWeek = current.getDay()
    // 0 = Sunday, 5 = Friday, 6 = Saturday
    if (dayOfWeek !== 5 && dayOfWeek !== 6) {
      workDays++
    }
    current.setDate(current.getDate() + 1)
  }
  
  return workDays
}
```

---

## ๐จ ุงูุชุตููู

**ุงูุฃููุงู**:
- **ุฑุฆูุณู**: Tailwind Pink (`bg-pink-500`, `bg-pink-600`)
- **ุฑุฃุณูุฉ ุงูุฌุฏูู**: `bg-pink-500`
- **ุตููู ุงูุฌุฏูู**: ุชุจุฏูู ุจูู `bg-gray-50` ู `bg-white`

**ุงูุฃููููุงุช**:
- ๐ `fa-calendar-alt` - ุงูุจุทุงูุฉ ุงูุฑุฆูุณูุฉ
- ๐ `fa-search` - ุฒุฑ ุนุฑุถ ุงูุชูุฑูุฑ
- ๐ `fa-file-pdf` - ุฒุฑ ุชุญููู PDF
- ๐ `fa-chart-line` - ุญุงูุฉ ุงูุงูุชุธุงุฑ

---

## ๐ ุงูุฑูุงุจุท

- **ุตูุญุฉ ุงูุชูุงุฑูุฑ**: https://highlevel-nursery.pages.dev/admin/nursery/reports
- **ุตูุญุฉ ุงูุชูุฑูุฑ**: https://highlevel-nursery.pages.dev/admin/nursery/teacher-attendance-report
- **API Endpoint**: https://highlevel-nursery.pages.dev/api/teacher-attendance-report
- **ุขุฎุฑ ูุดุฑ**: https://345a7927.highlevel-nursery.pages.dev

---

## ๐ ููุงุญุธุงุช

### **ูุชุทูุจุงุช ูุจู ุงูุงุณุชุฎุฏุงู:**

1. โ ูุฌุจ ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑุฉ
2. โ ูุฌูุฏ ูุนููุงุช ูุณุฌูุงุช ูู ูุณู ุงูุญุถุงูุฉ
3. โ ูุฌูุฏ ุณุฌูุงุช ุญุถูุฑ ูู ุฌุฏูู `teacher_attendance`

### **ุงูุณููู ุงูุงูุชุฑุงุถู:**

- ุนูุฏ ูุชุญ ุงูุตูุญุฉุ ูุชู ุชุญููู ุชูุฑูุฑ ุงูุดูุฑ ุงูุญุงูู ุชููุงุฆูุงู
- ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุชุ ูุธูุฑ ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุจูุงูุงุช"
- ูุชู ุนุฑุถ spinner ุฃุซูุงุก ุงูุชุญููู

### **ุงูุฃูุงู:**

- ูุญูู ุจู `nurseryAuthMiddleware` - ูุชุทูุจ ุชุณุฌูู ุฏุฎูู ุงููุฏูุฑุฉ
- ุงูุชุญูู ูู ุงูุณูุฉ ูุงูุดูุฑ ูู API
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ุงููุดููุฉ**: "ูุง ุชูุฌุฏ ุจูุงูุงุช"

**ุงูุญููู**:
1. ุชุฃูุฏ ูู ูุฌูุฏ ูุนููุงุช ูุณุฌูุงุช (`SELECT * FROM teachers WHERE department = 'nursery'`)
2. ุชุฃูุฏ ูู ูุฌูุฏ ุณุฌูุงุช ุญุถูุฑ (`SELECT * FROM teacher_attendance`)
3. ุชุญูู ูู ุงููุชุฑุฉ ุงููุฎุชุงุฑุฉ

### **ุงููุดููุฉ**: "ุญุฏุซ ุฎุทุฃ"

**ุงูุญููู**:
1. ุงูุชุญ Console (F12) ูุฑุคูุฉ ุชูุงุตูู ุงูุฎุทุฃ
2. ุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุตุญุฉ ุงูู API endpoint

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

| ุงูููู | ุงูุชุบููุฑ |
|-------|---------|
| `src/routes/admin.tsx` | ุฅุถุงูุฉ ุจุทุงูุฉ ุงูุชูุฑูุฑ ูู ุตูุญุฉ ุงูุชูุงุฑูุฑ + ุตูุญุฉ ุนุฑุถ ุงูุชูุฑูุฑ |
| `src/routes/api.tsx` | ุฅุถุงูุฉ API endpoint `/teacher-attendance-report` |

---

## ๐ ุงูุฎูุงุตุฉ

**ุงูููุฒุฉ**: ุชูุฑูุฑ ุญุถูุฑ ุงููุนููุงุช ุงูุดูุฑู/ุงูุณููู  
**ุงูุญุงูุฉ**: โ **ููุชูู 100% ูููุดูุฑ**  
**ุงูุชุงุฑูุฎ**: 2025-12-04  
**Commit ID**: `bd0a99f`  
**Deploy URL**: https://345a7927.highlevel-nursery.pages.dev

ุงูุขู ูููู ูููุฏูุฑุฉ:
1. ุนุฑุถ ุชูุฑูุฑ ุญุถูุฑ ุงููุนููุงุช ุดูุฑูุงู ุฃู ุณูููุงู
2. ุฑุคูุฉ ุฅุญุตุงุฆูุงุช ููุตูุฉ (ุฃูุงู ุงูุนููุ ุงูุญุถูุฑุ ุงูุบูุงุจุ ุงููุณุจุฉ)
3. ุชุญููู ุงูุชูุฑูุฑ ุจุตูุบุฉ PDF ุจุถุบุทุฉ ุฒุฑ ูุงุญุฏุฉ
4. ุทุจุงุนุฉ ุงูุชูุฑูุฑ ุฃู ูุดุงุฑูุชู

**ููููุฐ ุจูุฌุงุญ!** โโจ
