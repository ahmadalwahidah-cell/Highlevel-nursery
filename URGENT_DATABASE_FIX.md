# ๐จ ุฅุตูุงุญ ุนุงุฌู: ุฌุฏูู manager_expenses ููููุฏ ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ

## ๐ด ุงููุดููุฉ:
ุงููููุน ุงูุญูููู (https://highlevel-nursery.pages.dev) ูุธูุฑ ุฎุทุฃ:
**"ูุดู ูู ุชุญููู ุงููุตุฑููุงุช"**

**ุงูุณุจุจ:** ุฌุฏูู `manager_expenses` **ุบูุฑ ููุฌูุฏ** ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ (Cloudflare D1)

---

## โ ุงูุญู (ุฎูุงุฑุงู):

### **ุงูุฎูุงุฑ 1: ุชุทุจูู Migration ูุฏููุงู (ุงูุฃุณูู)**

ูุฌุจ ุชุทุจูู Migration ูุฏููุงู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููุญุฉ ุชุญูู Cloudflare:

#### ุงูุฎุทูุงุช:
1. ุงูุชุญ ููุญุฉ ุชุญูู Cloudflare: https://dash.cloudflare.com/
2. ุงุฐูุจ ุฅูู **D1 Databases**
3. ุงูุชุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช: `highlevel-nursery-production`
4. ุงุถุบุท ุนูู **Console** ุฃู **Query**
5. ููุฐ ุงูุฃูุงูุฑ ุงูุชุงููุฉ:

```sql
-- ุฅูุดุงุก ุฌุฏูู ูุตุฑููุงุช ุงููุฏูุฑุฉ
CREATE TABLE IF NOT EXISTS manager_expenses (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  amount REAL NOT NULL CHECK(amount >= 0),
  expense_date TEXT NOT NULL,
  description TEXT NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฅูุดุงุก ููุฑุณ ุนูู ุงูุชุงุฑูุฎ
CREATE INDEX IF NOT EXISTS idx_manager_expenses_date 
ON manager_expenses(expense_date);
```

6. ุงุถุบุท **Execute** ุฃู **Run**
7. ุชุญูู ูู ูุฌุงุญ ุงูุนูููุฉ

---

### **ุงูุฎูุงุฑ 2: ุฅุตูุงุญ ุตูุงุญูุงุช API Token**

ุงููุดููุฉ ุงูุญุงููุฉ: API Token ูุง ูููู ุตูุงุญูุงุช D1 Database.

#### ุงูุฎุทูุงุช:
1. ุงุฐูุจ ุฅูู: https://dash.cloudflare.com/profile/api-tokens
2. ุงุจุญุซ ุนู Token ุงูุญุงูู ุฃู ุฃูุดุฆ token ุฌุฏูุฏ
3. ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูุตูุงุญูุงุช ุงูุชุงููุฉ:
   - **Account** โ **D1** โ **Edit**
   - **Account** โ **Workers Scripts** โ **Edit**
4. ุงุญูุธ Token ุงูุฌุฏูุฏ
5. ุญุฏูุซ ูุชุบูุฑ ุงูุจูุฆุฉ `CLOUDFLARE_API_TOKEN`
6. ููุฐ ุงูุฃูุฑ:
```bash
cd /home/user/highlevel-nursery
npx wrangler d1 migrations apply highlevel-nursery-production --remote
```

---

## ๐งช ุงูุชุญูู ูู ุงููุฌุงุญ:

ุจุนุฏ ุชุทุจูู ุฃุญุฏ ุงูุฎูุงุฑููุ ุงุฎุชุจุฑ:

1. ุงูุชุญ: https://highlevel-nursery.pages.dev/admin/nursery/login
2. ุงุฏุฎู PIN: `1020`
3. ุงูุชุญ ุตูุญุฉ ุงููุตุฑููุงุช: https://highlevel-nursery.pages.dev/admin/nursery/manager-expenses
4. ูุฌุจ ุฃู ุชุธูุฑ ุงููุตุฑููุงุช ุจูุฌุงุญ โ

---

## ๐ ููุงุญุธุฉ ูุงูุฉ:

**ููุงุฐุง ุญุฏุซุช ุงููุดููุฉุ**
- Migration `0013_create_manager_expenses.sql` ุชู ุชุทุจููู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช **ุงููุญููุฉ ููุท**
- ูู ูุชู ุชุทุจููู ุนูู ูุงุนุฏุฉ ุจูุงูุงุช **ุงูุฅูุชุงุฌ** ุจุณุจุจ ูุดููุฉ ุตูุงุญูุงุช API Token
- ูุฐูู ุงููููุน ุงููุญูู ูุนูู ุจูุฌุงุญุ ููู ุงููููุน ุงูุญูููู ููุดู

---

## ๐ฏ ุงูุญู ุงูููุตู ุจู:

**ุงุณุชุฎุฏู ุงูุฎูุงุฑ 1** (ุงูุชุทุจูู ุงููุฏูู) ูุฃูู:
- โ ุฃุณุฑุน ูุฃุณูู
- โ ูุง ูุญุชุงุฌ ุชุนุฏูู ุตูุงุญูุงุช
- โ ูุถูู ุฅุตูุงุญ ุงููุดููุฉ ููุฑุงู

ุจุนุฏ ุฐููุ ูู ุจุฅุตูุงุญ ุตูุงุญูุงุช API Token (ุงูุฎูุงุฑ 2) ูุชุฌูุจ ุงููุดููุฉ ูุณุชูุจูุงู.

---

**ุจุนุฏ ุชุทุจูู ุงูุญูุ ุงููููุน ุณูุนูู ุจุดูู ูุงูู! ๐**
